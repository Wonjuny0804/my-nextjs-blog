---
title: "Making my nextjs blog into a PWA"
date: "2022-05-29"
updatedAt: "2022-05-19"
tags: ["pwa", "browser", "Chrome", "No iOS"]
excerpt: "Finally succeeded implementing PWA to my Nextjs blog. Here are some tips and the difficulties I went through."
---

After studying PWA I have been finding ways to implement PWAs.

With React and Next.js it's quite easy. Especially you're not going to be using your own service worker. If you are, probably going to have to search for documents to write one.

### With PWA, nextjs is quite easy.

If you go on to vercel they have a PWA example. (nextjs team PWA example)[https://github.com/vercel/next.js/tree/canary/examples/progressive-web-app]

Going through the code I could easily meet the requirements for a PWA.

First, install next-pwa

```bash
yarn add next-pwa
```

After installing it, you can do as the instructions on the `next-pwa` document states.

1. Change next.config.js using `withPWA` from `next-pwa`

```js
const withPWA = require("next-pwa");

module.exports = withPWA(nextConfig);
```

this was for my code.

After this running `yarn build` or any kind of building command. It shall create `workbox-*.js` and `sw.js`.
There are following instructions when you're using Nextjs version under 9. But if you're using a version higher we can move on to
next step.

2. Create a `manifest.json`

There's a sample file (here)[https://github.com/shadowwalker/next-pwa]

this was the file I created based on the example.

```json
{
  "name": "WonjundevTech",
  "short_name": "Wonjun tech",
  "theme_color": "#2563eb",
  "background_color": "#f2f2f5",
  "display": "fullscreen",
  "orientation": "portrait",
  "scope": "/",
  "start_url": "/",
  "icons": [
    {
      "src": "icons/Icon-72.png",
      "sizes": "72x72",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-100.png",
      "sizes": "100x100",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-128.png",
      "sizes": "128x128",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-144.png",
      "sizes": "144x144",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-152.png",
      "sizes": "152x152",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-196x196.png",
      "sizes": "196x196",
      "type": "image/png"
    },
    {
      "src": "icons/Icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ],
  "splash_pages": null
}
```

I had to generate more icons with various sizes using third party websites.
For me I just typed `icons generator` on Google and went on the first website that showed up.

After that I filled up the name and colors according my Nextjs app.

3. Meta files added to Head

create a `_document.js` file inside pages directory and add the meta tags that are needed.

I did this by creating a `PWAMeta` component

There's an example on the same page that you can find.

And after this you are all set. You can build your file and serve it!

### After trying PWAs

One thing I found out after trying a meet PWA conditions. It came up at last moment that
chrome in iOS didn't really support PWA. I am still not sure if this makes it impossible for iOS devices to have a PWA installed.

However I shall keep on doing research on this matter.
